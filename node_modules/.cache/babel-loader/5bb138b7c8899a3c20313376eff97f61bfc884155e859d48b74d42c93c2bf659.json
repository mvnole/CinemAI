{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{useNavigate,useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";function OutsideClickWrapper(_ref){let{children,redirectTo=\"/\"}=_ref;const wrapperRef=useRef(null);const navigate=useNavigate();const location=useLocation();const[visible,setVisible]=useState(false);useEffect(()=>{setVisible(true);const handleClickOutside=event=>{setTimeout(()=>{const userMenu=document.querySelector(\"[data-user-menu]\");if(wrapperRef.current&&!wrapperRef.current.contains(event.target)&&(!userMenu||!userMenu.contains(event.target))){var _location$state;setVisible(false);const destination=(_location$state=location.state)!==null&&_location$state!==void 0&&_location$state.fromSearch?\"/search\":redirectTo;navigate(destination);}},50);};document.addEventListener(\"mousedown\",handleClickOutside);return()=>document.removeEventListener(\"mousedown\",handleClickOutside);},[navigate,redirectTo,location]);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 z-50 flex items-center justify-center transition-all duration-300 \".concat(visible?\"bg-black/60 backdrop-blur-sm opacity-100\":\"opacity-0 pointer-events-none\"),children:/*#__PURE__*/_jsx(\"div\",{ref:wrapperRef,className:\"bg-zinc-900 p-10 rounded-2xl shadow-2xl w-[95vw] max-w-5xl transform transition-all duration-500 ease-in-out \".concat(visible?\"scale-105 opacity-100\":\"scale-95 opacity-0\"),children:children})});}export default OutsideClickWrapper;","map":{"version":3,"names":["React","useEffect","useRef","useState","useNavigate","useLocation","jsx","_jsx","OutsideClickWrapper","_ref","children","redirectTo","wrapperRef","navigate","location","visible","setVisible","handleClickOutside","event","setTimeout","userMenu","document","querySelector","current","contains","target","_location$state","destination","state","fromSearch","addEventListener","removeEventListener","className","concat","ref"],"sources":["C:/Users/manol/Desktop/IT/ai-films-tailwind/src/components/OutsideClickWrapper.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\n\nfunction OutsideClickWrapper({ children, redirectTo = \"/\" }) {\n  const wrapperRef = useRef(null);\n  const navigate = useNavigate();\n  const location = useLocation();\n  const [visible, setVisible] = useState(false);\n\n  useEffect(() => {\n    setVisible(true);\n\n    const handleClickOutside = (event) => {\n      setTimeout(() => {\n        const userMenu = document.querySelector(\"[data-user-menu]\");\n        if (\n          wrapperRef.current &&\n          !wrapperRef.current.contains(event.target) &&\n          (!userMenu || !userMenu.contains(event.target))\n        ) {\n          setVisible(false);\n          const destination = location.state?.fromSearch ? \"/search\" : redirectTo;\n          navigate(destination);\n        }\n      }, 50);\n    };\n\n    document.addEventListener(\"mousedown\", handleClickOutside);\n    return () => document.removeEventListener(\"mousedown\", handleClickOutside);\n  }, [navigate, redirectTo, location]);\n\n  return (\n    <div className={`fixed inset-0 z-50 flex items-center justify-center transition-all duration-300 ${visible ? \"bg-black/60 backdrop-blur-sm opacity-100\" : \"opacity-0 pointer-events-none\"}`}>\n      <div\n  ref={wrapperRef}\n  className={`bg-zinc-900 p-10 rounded-2xl shadow-2xl w-[95vw] max-w-5xl transform transition-all duration-500 ease-in-out ${visible ? \"scale-105 opacity-100\" : \"scale-95 opacity-0\"}`}\n>\n        {children}\n      </div>\n    </div>\n  );\n}\n\nexport default OutsideClickWrapper;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,WAAW,CAAEC,WAAW,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE5D,QAAS,CAAAC,mBAAmBA,CAAAC,IAAA,CAAiC,IAAhC,CAAEC,QAAQ,CAAEC,UAAU,CAAG,GAAI,CAAC,CAAAF,IAAA,CACzD,KAAM,CAAAG,UAAU,CAAGV,MAAM,CAAC,IAAI,CAAC,CAC/B,KAAM,CAAAW,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAU,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAACU,OAAO,CAAEC,UAAU,CAAC,CAAGb,QAAQ,CAAC,KAAK,CAAC,CAE7CF,SAAS,CAAC,IAAM,CACde,UAAU,CAAC,IAAI,CAAC,CAEhB,KAAM,CAAAC,kBAAkB,CAAIC,KAAK,EAAK,CACpCC,UAAU,CAAC,IAAM,CACf,KAAM,CAAAC,QAAQ,CAAGC,QAAQ,CAACC,aAAa,CAAC,kBAAkB,CAAC,CAC3D,GACEV,UAAU,CAACW,OAAO,EAClB,CAACX,UAAU,CAACW,OAAO,CAACC,QAAQ,CAACN,KAAK,CAACO,MAAM,CAAC,GACzC,CAACL,QAAQ,EAAI,CAACA,QAAQ,CAACI,QAAQ,CAACN,KAAK,CAACO,MAAM,CAAC,CAAC,CAC/C,KAAAC,eAAA,CACAV,UAAU,CAAC,KAAK,CAAC,CACjB,KAAM,CAAAW,WAAW,CAAG,CAAAD,eAAA,CAAAZ,QAAQ,CAACc,KAAK,UAAAF,eAAA,WAAdA,eAAA,CAAgBG,UAAU,CAAG,SAAS,CAAGlB,UAAU,CACvEE,QAAQ,CAACc,WAAW,CAAC,CACvB,CACF,CAAC,CAAE,EAAE,CAAC,CACR,CAAC,CAEDN,QAAQ,CAACS,gBAAgB,CAAC,WAAW,CAAEb,kBAAkB,CAAC,CAC1D,MAAO,IAAMI,QAAQ,CAACU,mBAAmB,CAAC,WAAW,CAAEd,kBAAkB,CAAC,CAC5E,CAAC,CAAE,CAACJ,QAAQ,CAAEF,UAAU,CAAEG,QAAQ,CAAC,CAAC,CAEpC,mBACEP,IAAA,QAAKyB,SAAS,oFAAAC,MAAA,CAAqFlB,OAAO,CAAG,0CAA0C,CAAG,+BAA+B,CAAG,CAAAL,QAAA,cAC1LH,IAAA,QACJ2B,GAAG,CAAEtB,UAAW,CAChBoB,SAAS,iHAAAC,MAAA,CAAkHlB,OAAO,CAAG,uBAAuB,CAAG,oBAAoB,CAAG,CAAAL,QAAA,CAE/KA,QAAQ,CACN,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAF,mBAAmB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}