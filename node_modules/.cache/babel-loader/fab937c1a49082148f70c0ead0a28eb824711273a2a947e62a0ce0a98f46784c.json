{"ast":null,"code":"import _objectSpread from\"C:/Users/manol/Desktop/IT/ai-films-tailwind/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import FilmCard from\"../components/FilmCard\";import films from\"../data/films\";import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";function Dropdown(_ref){let{label,options,value,onChange}=_ref;const[open,setOpen]=useState(false);return/*#__PURE__*/_jsxs(\"div\",{className:\"relative\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setOpen(!open),className:\"px-4 py-2 rounded bg-zinc-800 text-white flex justify-between items-center w-40\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"flex items-center gap-2\",children:[label===\"All Ratings\"&&value?\"⭐\":null,\" \",value||label]}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:\"\\u25BE\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute mt-2 w-full bg-zinc-800 rounded shadow-md transition-all duration-200 origin-top transform z-10 \".concat(open?\"scale-y-100 opacity-100\":\"scale-y-0 opacity-0 pointer-events-none\"),children:options.map(opt=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>{onChange(opt.value);setOpen(false);},className:\"px-4 py-2 hover:bg-zinc-700 cursor-pointer\",children:opt.label},opt.value))})]});}function SearchPage(){const[query,setQuery]=useState(\"\");const[genreFilter,setGenreFilter]=useState(\"\");const[ratingFilter,setRatingFilter]=useState(\"\");const navigate=useNavigate();const filteredFilms=films.filter(film=>{var _film$rating;const matchesQuery=film.title.toLowerCase().includes(query.toLowerCase());const matchesGenre=genreFilter?film.genre===genreFilter:true;const matchesRating=ratingFilter?parseFloat((_film$rating=film.rating)===null||_film$rating===void 0?void 0:_film$rating.split(\" \")[1])>=parseFloat(ratingFilter):true;return matchesQuery&&matchesGenre&&matchesRating;});const handleFilmClick=film=>{navigate(\"/film/\".concat(film.id),{state:{fromSearch:true}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-wrap gap-4 items-start\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Search films...\",value:query,onChange:e=>setQuery(e.target.value),className:\"px-4 py-2 rounded bg-zinc-800 text-white placeholder-zinc-400 w-full max-w-xs\"}),/*#__PURE__*/_jsx(Dropdown,{label:\"All Genres\",value:genreFilter,onChange:setGenreFilter,options:[{label:\"All Genres\",value:\"\"},{label:\"Sci-Fi\",value:\"Sci-Fi\"},{label:\"Action\",value:\"Action\"},{label:\"Drama\",value:\"Drama\"},{label:\"Thriller\",value:\"Thriller\"},{label:\"Mystery\",value:\"Mystery\"},{label:\"Fantasy\",value:\"Fantasy\"},{label:\"Adventure\",value:\"Adventure\"}]}),/*#__PURE__*/_jsx(Dropdown,{label:\"All Ratings\",value:ratingFilter,onChange:setRatingFilter,options:[{label:\"All Ratings\",value:\"\"},{label:\"⭐ 4.5+\",value:\"4.5\"},{label:\"⭐ 4.0+\",value:\"4.0\"},{label:\"⭐ 3.5+\",value:\"3.5\"}]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6\",children:filteredFilms.map(film=>/*#__PURE__*/_jsx(\"div\",{onClick:()=>handleFilmClick(film),className:\"cursor-pointer transform transition duration-300 hover:scale-105 hover:z-10\",children:/*#__PURE__*/_jsx(FilmCard,{film:_objectSpread(_objectSpread({},film),{},{showTitleOverlay:false})})},film.id))})]});}export default SearchPage;","map":{"version":3,"names":["React","useState","useNavigate","FilmCard","films","jsxs","_jsxs","jsx","_jsx","Dropdown","_ref","label","options","value","onChange","open","setOpen","className","children","onClick","concat","map","opt","SearchPage","query","setQuery","genreFilter","setGenreFilter","ratingFilter","setRatingFilter","navigate","filteredFilms","filter","film","_film$rating","matchesQuery","title","toLowerCase","includes","matchesGenre","genre","matchesRating","parseFloat","rating","split","handleFilmClick","id","state","fromSearch","type","placeholder","e","target","_objectSpread","showTitleOverlay"],"sources":["C:/Users/manol/Desktop/IT/ai-films-tailwind/src/pages/SearchPage.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport FilmCard from \"../components/FilmCard\";\nimport films from \"../data/films\";\n\nfunction Dropdown({ label, options, value, onChange }) {\n  const [open, setOpen] = useState(false);\n  return (\n    <div className=\"relative\">\n      <button\n        onClick={() => setOpen(!open)}\n        className=\"px-4 py-2 rounded bg-zinc-800 text-white flex justify-between items-center w-40\"\n      >\n        <span className=\"flex items-center gap-2\">\n          {label === \"All Ratings\" && value ? \"⭐\" : null} {value || label}\n        </span>\n        <span className=\"ml-2\">▾</span>\n      </button>\n      <div\n        className={`absolute mt-2 w-full bg-zinc-800 rounded shadow-md transition-all duration-200 origin-top transform z-10 ${open ? \"scale-y-100 opacity-100\" : \"scale-y-0 opacity-0 pointer-events-none\"}`}\n      >\n        {options.map((opt) => (\n          <div\n            key={opt.value}\n            onClick={() => {\n              onChange(opt.value);\n              setOpen(false);\n            }}\n            className=\"px-4 py-2 hover:bg-zinc-700 cursor-pointer\"\n          >\n            {opt.label}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nfunction SearchPage() {\n  const [query, setQuery] = useState(\"\");\n  const [genreFilter, setGenreFilter] = useState(\"\");\n  const [ratingFilter, setRatingFilter] = useState(\"\");\n  const navigate = useNavigate();\n\n  const filteredFilms = films.filter((film) => {\n    const matchesQuery = film.title.toLowerCase().includes(query.toLowerCase());\n    const matchesGenre = genreFilter ? film.genre === genreFilter : true;\n    const matchesRating = ratingFilter ? parseFloat(film.rating?.split(\" \")[1]) >= parseFloat(ratingFilter) : true;\n    return matchesQuery && matchesGenre && matchesRating;\n  });\n\n  const handleFilmClick = (film) => {\n    navigate(`/film/${film.id}`, { state: { fromSearch: true } });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex flex-wrap gap-4 items-start\">\n        <input\n          type=\"text\"\n          placeholder=\"Search films...\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          className=\"px-4 py-2 rounded bg-zinc-800 text-white placeholder-zinc-400 w-full max-w-xs\"\n        />\n        <Dropdown\n          label=\"All Genres\"\n          value={genreFilter}\n          onChange={setGenreFilter}\n          options={[\n            { label: \"All Genres\", value: \"\" },\n            { label: \"Sci-Fi\", value: \"Sci-Fi\" },\n            { label: \"Action\", value: \"Action\" },\n            { label: \"Drama\", value: \"Drama\" },\n            { label: \"Thriller\", value: \"Thriller\" },\n            { label: \"Mystery\", value: \"Mystery\" },\n            { label: \"Fantasy\", value: \"Fantasy\" },\n            { label: \"Adventure\", value: \"Adventure\" },\n          ]}\n        />\n        <Dropdown\n          label=\"All Ratings\"\n          value={ratingFilter}\n          onChange={setRatingFilter}\n          options={[\n            { label: \"All Ratings\", value: \"\" },\n            { label: \"⭐ 4.5+\", value: \"4.5\" },\n            { label: \"⭐ 4.0+\", value: \"4.0\" },\n            { label: \"⭐ 3.5+\", value: \"3.5\" },\n          ]}\n        />\n      </div>\n\n      <div className=\"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-6\">\n        {filteredFilms.map((film) => (\n          <div\n            key={film.id}\n            onClick={() => handleFilmClick(film)}\n            className=\"cursor-pointer transform transition duration-300 hover:scale-105 hover:z-10\"\n          >\n            <FilmCard film={{ ...film, showTitleOverlay: false }} />\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default SearchPage;\n"],"mappings":"gIAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAC7C,MAAO,CAAAC,KAAK,KAAM,eAAe,CAAC,OAAAC,IAAA,IAAAC,KAAA,CAAAC,GAAA,IAAAC,IAAA,yBAElC,QAAS,CAAAC,QAAQA,CAAAC,IAAA,CAAsC,IAArC,CAAEC,KAAK,CAAEC,OAAO,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAAJ,IAAA,CACnD,KAAM,CAACK,IAAI,CAAEC,OAAO,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CACvC,mBACEK,KAAA,QAAKW,SAAS,CAAC,UAAU,CAAAC,QAAA,eACvBZ,KAAA,WACEa,OAAO,CAAEA,CAAA,GAAMH,OAAO,CAAC,CAACD,IAAI,CAAE,CAC9BE,SAAS,CAAC,iFAAiF,CAAAC,QAAA,eAE3FZ,KAAA,SAAMW,SAAS,CAAC,yBAAyB,CAAAC,QAAA,EACtCP,KAAK,GAAK,aAAa,EAAIE,KAAK,CAAG,GAAG,CAAG,IAAI,CAAC,GAAC,CAACA,KAAK,EAAIF,KAAK,EAC3D,CAAC,cACPH,IAAA,SAAMS,SAAS,CAAC,MAAM,CAAAC,QAAA,CAAC,QAAC,CAAM,CAAC,EACzB,CAAC,cACTV,IAAA,QACES,SAAS,6GAAAG,MAAA,CAA8GL,IAAI,CAAG,yBAAyB,CAAG,yCAAyC,CAAG,CAAAG,QAAA,CAErMN,OAAO,CAACS,GAAG,CAAEC,GAAG,eACfd,IAAA,QAEEW,OAAO,CAAEA,CAAA,GAAM,CACbL,QAAQ,CAACQ,GAAG,CAACT,KAAK,CAAC,CACnBG,OAAO,CAAC,KAAK,CAAC,CAChB,CAAE,CACFC,SAAS,CAAC,4CAA4C,CAAAC,QAAA,CAErDI,GAAG,CAACX,KAAK,EAPLW,GAAG,CAACT,KAQN,CACN,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAEA,QAAS,CAAAU,UAAUA,CAAA,CAAG,CACpB,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGxB,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACyB,WAAW,CAAEC,cAAc,CAAC,CAAG1B,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAAC2B,YAAY,CAAEC,eAAe,CAAC,CAAG5B,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAAA6B,QAAQ,CAAG5B,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAA6B,aAAa,CAAG3B,KAAK,CAAC4B,MAAM,CAAEC,IAAI,EAAK,KAAAC,YAAA,CAC3C,KAAM,CAAAC,YAAY,CAAGF,IAAI,CAACG,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACd,KAAK,CAACa,WAAW,CAAC,CAAC,CAAC,CAC3E,KAAM,CAAAE,YAAY,CAAGb,WAAW,CAAGO,IAAI,CAACO,KAAK,GAAKd,WAAW,CAAG,IAAI,CACpE,KAAM,CAAAe,aAAa,CAAGb,YAAY,CAAGc,UAAU,EAAAR,YAAA,CAACD,IAAI,CAACU,MAAM,UAAAT,YAAA,iBAAXA,YAAA,CAAaU,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAIF,UAAU,CAACd,YAAY,CAAC,CAAG,IAAI,CAC9G,MAAO,CAAAO,YAAY,EAAII,YAAY,EAAIE,aAAa,CACtD,CAAC,CAAC,CAEF,KAAM,CAAAI,eAAe,CAAIZ,IAAI,EAAK,CAChCH,QAAQ,UAAAV,MAAA,CAAUa,IAAI,CAACa,EAAE,EAAI,CAAEC,KAAK,CAAE,CAAEC,UAAU,CAAE,IAAK,CAAE,CAAC,CAAC,CAC/D,CAAC,CAED,mBACE1C,KAAA,QAAKW,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBZ,KAAA,QAAKW,SAAS,CAAC,kCAAkC,CAAAC,QAAA,eAC/CV,IAAA,UACEyC,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,iBAAiB,CAC7BrC,KAAK,CAAEW,KAAM,CACbV,QAAQ,CAAGqC,CAAC,EAAK1B,QAAQ,CAAC0B,CAAC,CAACC,MAAM,CAACvC,KAAK,CAAE,CAC1CI,SAAS,CAAC,+EAA+E,CAC1F,CAAC,cACFT,IAAA,CAACC,QAAQ,EACPE,KAAK,CAAC,YAAY,CAClBE,KAAK,CAAEa,WAAY,CACnBZ,QAAQ,CAAEa,cAAe,CACzBf,OAAO,CAAE,CACP,CAAED,KAAK,CAAE,YAAY,CAAEE,KAAK,CAAE,EAAG,CAAC,CAClC,CAAEF,KAAK,CAAE,QAAQ,CAAEE,KAAK,CAAE,QAAS,CAAC,CACpC,CAAEF,KAAK,CAAE,QAAQ,CAAEE,KAAK,CAAE,QAAS,CAAC,CACpC,CAAEF,KAAK,CAAE,OAAO,CAAEE,KAAK,CAAE,OAAQ,CAAC,CAClC,CAAEF,KAAK,CAAE,UAAU,CAAEE,KAAK,CAAE,UAAW,CAAC,CACxC,CAAEF,KAAK,CAAE,SAAS,CAAEE,KAAK,CAAE,SAAU,CAAC,CACtC,CAAEF,KAAK,CAAE,SAAS,CAAEE,KAAK,CAAE,SAAU,CAAC,CACtC,CAAEF,KAAK,CAAE,WAAW,CAAEE,KAAK,CAAE,WAAY,CAAC,CAC1C,CACH,CAAC,cACFL,IAAA,CAACC,QAAQ,EACPE,KAAK,CAAC,aAAa,CACnBE,KAAK,CAAEe,YAAa,CACpBd,QAAQ,CAAEe,eAAgB,CAC1BjB,OAAO,CAAE,CACP,CAAED,KAAK,CAAE,aAAa,CAAEE,KAAK,CAAE,EAAG,CAAC,CACnC,CAAEF,KAAK,CAAE,QAAQ,CAAEE,KAAK,CAAE,KAAM,CAAC,CACjC,CAAEF,KAAK,CAAE,QAAQ,CAAEE,KAAK,CAAE,KAAM,CAAC,CACjC,CAAEF,KAAK,CAAE,QAAQ,CAAEE,KAAK,CAAE,KAAM,CAAC,CACjC,CACH,CAAC,EACC,CAAC,cAENL,IAAA,QAAKS,SAAS,CAAC,qEAAqE,CAAAC,QAAA,CACjFa,aAAa,CAACV,GAAG,CAAEY,IAAI,eACtBzB,IAAA,QAEEW,OAAO,CAAEA,CAAA,GAAM0B,eAAe,CAACZ,IAAI,CAAE,CACrChB,SAAS,CAAC,6EAA6E,CAAAC,QAAA,cAEvFV,IAAA,CAACL,QAAQ,EAAC8B,IAAI,CAAAoB,aAAA,CAAAA,aAAA,IAAOpB,IAAI,MAAEqB,gBAAgB,CAAE,KAAK,EAAG,CAAE,CAAC,EAJnDrB,IAAI,CAACa,EAKP,CACN,CAAC,CACC,CAAC,EACH,CAAC,CAEV,CAEA,cAAe,CAAAvB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}